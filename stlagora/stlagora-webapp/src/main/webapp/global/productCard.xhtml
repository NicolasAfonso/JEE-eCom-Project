<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
	<title>Bienvenue sur STL Agora - Accueil -</title>
	<h:outputStylesheet library="css" name="global.css" />
</h:head>

	<h:body>
	
		<ui:insert name="header">
			<ui:include src="/resources/templates/header.xhtml" />
		</ui:insert>
		
		<f:metadata>
			<f:viewParam name="id" value="#{productController.id}" ></f:viewParam>
		</f:metadata>	
	
		<h:form>
			<div id="pagecontent">
			    <div id="imageProd">
					<h:graphicImage styleClass="product_card_image" title="product_card_image" alt="product_card_image" library="images" name="logo.png" />
				</div>
				
				
				<div id= "info">
					<div id="infoGeneral">
						<h1> 
							#{productController.product.name} 
						</h1>
						<br />
						<h:outputLabel value="de " />
						<p:commandLink styleClass="hyperlink_classic" id="nameVendeur">
							<h:outputText  value="#{productController.product.seller.firstname} #{productController.product.seller.surname}" />
						</p:commandLink>
						<br />
						<h:outputLabel value="#{productController.product.globalMark}" />
						<h:graphicImage title="star" alt="star" library="images" name="star.png" styleClass="star" />
						<h:graphicImage title="star" alt="star" library="images" name="star.png" styleClass="star" />
						<h:graphicImage title="star" alt="star" library="images" name="star_empty.png" styleClass="star" />
						<h:graphicImage title="star" alt="star" library="images" name="star_empty.png" styleClass="star" />
						<h:graphicImage title="star" alt="star" library="images" name="star_empty.png" styleClass="star" />
						<p:commandLink id="linkOpinion">
							<h:outputText styleClass="hyperlink_classic underlined" value=" (#{productController.nbOpinion} #{product.opinions})" />
						</p:commandLink>
						<br />
						<h:outputLabel styleClass="price" value="#{productController.product.price}â‚¬" />
<!-- 						TODO : add to cart  -->
						<h:commandButton id="buttonAdd" image="/resources/images/button_add.png" action="#{cart.add(productController.product)}"/> 
					</div>
					<br />
					<div id="features">
						<div class="gray_background">
							<h:outputLabel styleClass="bold" value="#{product.titleInfo}" />
						</div>
						<br />
						<h:outputLabel value="#{productController.product.description}" />
						<br />
					</div>
				</div>
			</div>
			<div id="opinions">
				<div class="gray_background">
					<h:outputLabel styleClass="bold" value="#{product.sentenceOpinion1}" />
					<h:outputLabel styleClass="bold" value="#{productController.nbOpinion}" />
					<h:outputLabel styleClass="bold" value=" #{product.sentenceOpinion2}" />
					<h:outputLabel styleClass="bold" value=" #{productController.product.name}" />
				</div>
				<div>
					<h:dataTable value="#{productController.product.opinions}" var="op"
    					styleClass="opinion"
		    			headerClass="order-table-header"
		    			rowClasses="order-table-odd-row,order-table-even-row">
 
		    			<h:column>
		    				<h:outputLabel value="#{product.labelMark} #{op.mark}"/>
							<h:graphicImage title="star" alt="star" library="images" name="star.png" styleClass="star" />
							<h:graphicImage title="star" alt="star" library="images" name="star.png" styleClass="star" />
							<h:graphicImage title="star" alt="star" library="images" name="star_empty.png" styleClass="star" />
							<h:graphicImage title="star" alt="star" library="images" name="star_empty.png" styleClass="star" />
							<h:graphicImage title="star" alt="star" library="images" name="star_empty.png" styleClass="star" />
							<br />
							<h:outputLabel value="Par :"/>
							<p:commandLink id="nameBuyer">
								<h:outputText styleClass="hyperlink_classic underlined" value="#{op.writer.firstname} #{op.writer.surname}" />
							</p:commandLink>
							<br />
							
							<h:outputLabel styleClass="bold gray" value="Titre du commentaire"/>
							<br />
							<h:outputLabel value="#{op.comment}"/>
							<br />
		    			</h:column>
 
    				</h:dataTable>
				</div>
			</div>
		</h:form>
		
		<ui:insert name="footer">
			<ui:include src="/resources/templates/footer.xhtml" />
		</ui:insert>
		
	</h:body>
</html>